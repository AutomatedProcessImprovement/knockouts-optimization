Knockouts Redesign Pipeline started @ 2022-05-31 16:10:50.186674

Input parameters:

{'always_force_recompute': False,
 'attributes_to_ignore': None,
 'cache_dir': 'cache/synthetic_example_enriched',
 'confidence_threshold': 0.5,
 'config_dir': None,
 'config_file_name': None,
 'config_path': None,
 'custom_log_preprocessing_function': None,
 'dl_allowance': 1,
 'end_activity': 'End',
 'exclude_from_ko_activities': None,
 'grid_search': True,
 'ignore_log_parsing_cache': False,
 'k': 2,
 'known_ko_activities': [],
 'ko_count_threshold': None,
 'log_path': WindowsPath('inputs/synthetic_example/synthetic_example_enriched.xes'),
 'max_rule_conds': 1,
 'max_rules': 3,
 'n_discretize_bins': 10,
 'output': WindowsPath('outputs'),
 'param_grid': {'dl_allowance': [1, 6, 12, 24],
                'k': [2, 4],
                'n_discretize_bins': [5, 10, 20],
                'prune_size': [0.1, 0.2, 0.4]},
 'post_knockout_activities': ['Notify rejection'],
 'print_rule_discovery_stats': True,
 'prune_size': 0.8,
 'read_options': {'column_names': {'Activity': 'task',
                                   'Case ID': 'caseid',
                                   'Resource': 'user',
                                   'lifecycle:transition': 'event_type'},
                  'filter_d_attrib': True,
                  'one_timestamp': True,
                  'timestamp_format': '%Y-%m-%dT%H:%M:%S.%f'},
 'redesign_results_file_path': 'outputs/synthetic_example_enriched.txt',
 'rule_discovery_algorithm': 'IREP',
 'start_activity': 'Credit application received',
 'success_activities': [],
 'support_threshold': 0.1}


╒══════════════════════╤═══════════════════╤══════════════════╤══════════════════╤═══════════════════════════════════════════════════════════════════════════════════════════════╤════════════════════════╕
│ Knockout Check       │   Total frequency │ Case frequency   │ Rejection rate   │ Rejection rule (IREP)                                                                         │   Effort per rejection │
╞══════════════════════╪═══════════════════╪══════════════════╪══════════════════╪═══════════════════════════════════════════════════════════════════════════════════════════════╪════════════════════════╡
│ Assess application   │               836 │ 27.87 %          │ 80.02 %          │ [[External_Risk_Score=>0.65] V [External_Risk_Score=0.37-0.65]]                               │                  80.02 │
├──────────────────────┼───────────────────┼──────────────────┼──────────────────┼───────────────────────────────────────────────────────────────────────────────────────────────┼────────────────────────┤
│ Check Liability      │              3000 │ 100.0 %          │ 20.17 %          │ [[Owns_Vehicle=FALSE] V [Total_Debt=>6535.34] V [Total_Debt=5090.57-6535.34]]                 │                  20.17 │
├──────────────────────┼───────────────────┼──────────────────┼──────────────────┼───────────────────────────────────────────────────────────────────────────────────────────────┼────────────────────────┤
│ Check Risk           │              2395 │ 79.83 %          │ 30.1 %           │ [[Loan_Ammount=11725.48-16555.45] V [Loan_Ammount=>16555.45]]                                 │                  30.1  │
├──────────────────────┼───────────────────┼──────────────────┼──────────────────┼───────────────────────────────────────────────────────────────────────────────────────────────┼────────────────────────┤
│ Check Monthly Income │              1674 │ 55.8 %           │ 50.06 %          │ [[Monthly_Income=533.66-810.76] V [Monthly_Income=<533.66] V [Monthly_Income=810.76-1014.82]] │                  47.29 │
╘══════════════════════╧═══════════════════╧══════════════════╧══════════════════╧═══════════════════════════════════════════════════════════════════════════════════════════════╧════════════════════════╛

IREP

"Assess application"
IREP parameters:  {'max_rules': 3, 'max_rule_conds': 1, 'max_total_conds': None, 'n_discretize_bins': 10, 'prune_size': 0.1}
{'accuracy': 0.9777777777777777,
 'condition_count': 2,
 'confidence': 1.0,
 'f1_score': 0.9441624365482234,
 'precision': 1.0,
 'recall': 0.8942307692307693,
 'roc_auc_score': 0.9471153846153846,
 'roc_curve': (array([0., 0., 1.]),
               array([0.        , 0.89423077, 1.        ]),
               array([2, 1, 0])),
 'rule_count': 2,
 'support': 0.7045454545454546}

"Check Liability"
IREP parameters:  {'max_rules': 3, 'max_rule_conds': 1, 'max_total_conds': None, 'n_discretize_bins': 20, 'prune_size': 0.1}
{'accuracy': 0.9959595959595959,
 'condition_count': 3,
 'confidence': 1.0,
 'f1_score': 0.9903846153846153,
 'precision': 1.0,
 'recall': 0.9809523809523809,
 'roc_auc_score': 0.9904761904761905,
 'roc_curve': (array([0., 0., 1.]),
               array([0.        , 0.98095238, 1.        ]),
               array([2, 1, 0])),
 'rule_count': 3,
 'support': 0.19833333333333333}

"Check Risk"
IREP parameters:  {'max_rules': 3, 'max_rule_conds': 1, 'max_total_conds': None, 'n_discretize_bins': 10, 'prune_size': 0.1}
{'accuracy': 0.9575757575757575,
 'condition_count': 2,
 'confidence': 1.0,
 'f1_score': 0.9041095890410958,
 'precision': 1.0,
 'recall': 0.825,
 'roc_auc_score': 0.9125,
 'roc_curve': (array([0., 0., 1.]),
               array([0.   , 0.825, 1.   ]),
               array([2, 1, 0])),
 'rule_count': 2,
 'support': 0.2509394572025052}

"Check Monthly Income"
IREP parameters:  {'max_rules': 3, 'max_rule_conds': 1, 'max_total_conds': None, 'n_discretize_bins': 10, 'prune_size': 0.1}
{'accuracy': 0.9858585858585859,
 'condition_count': 3,
 'confidence': 0.9447576099210823,
 'f1_score': 0.9747292418772564,
 'precision': 0.9540636042402827,
 'recall': 0.996309963099631,
 'roc_auc_score': 0.9891146477528753,
 'roc_curve': (array([0.        , 0.01808067, 1.        ]),
               array([0.        , 0.99630996, 1.        ]),
               array([2, 1, 0])),
 'rule_count': 3,
 'support': 0.529868578255675}

** Redesign options **


> Dependencies of KO activities

╒══════════════════════╤═════════════════════════════════════════════════════════════╕
│ Knockout Check       │ Dependencies                                                │
╞══════════════════════╪═════════════════════════════════════════════════════════════╡
│ Assess application   │ 'External Risk Score' available after activity 'Check Risk' │
├──────────────────────┼─────────────────────────────────────────────────────────────┤
│ Check Risk           │ 'Loan Ammount' available after activity 'Start'             │
├──────────────────────┼─────────────────────────────────────────────────────────────┤
│ Check Monthly Income │ 'Monthly Income' available after activity 'Start'           │
├──────────────────────┼─────────────────────────────────────────────────────────────┤
│ Check Liability      │ 'Owns Vehicle' available after activity 'Start'             │
│                      │ 'Total Debt' available after activity 'Start'               │
╘══════════════════════╧═════════════════════════════════════════════════════════════╛


> Knock-out Re-ordering

Optimal Order of Knock-out checks (taking into account attribute dependencies):
1. Check Liability
2. Check Risk
3. Check Monthly Income
4. Assess application

167/167 non-knocked-out case(s) follow it.


> Knock-out Re-location

╒═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╕
│ Variant / Relocation Suggestion                                                                                                                                                 │
╞═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╡
│ Start -> Credit application received -> Check Liability -> Notify rejection -> Credit application processed -> End                                                              │
│ Start -> Credit application received -> Check Liability -> Notify rejection -> Credit application processed -> End                                                              │
├─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ Start -> Credit application received -> Check Liability -> Check Risk -> Check Monthly Income -> Notify rejection -> Credit application processed -> End                        │
│ Start -> Credit application received -> Check Liability -> Check Risk -> Check Monthly Income -> Notify rejection -> Credit application processed -> End                        │
├─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ Start -> Credit application received -> Check Liability -> Check Risk -> Check Monthly Income -> Assess application -> Notify rejection -> Credit application processed -> End  │
│ Start -> Credit application received -> Check Liability -> Check Risk -> Check Monthly Income -> Assess application -> Notify rejection -> Credit application processed -> End  │
├─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ Start -> Credit application received -> Check Liability -> Check Risk -> Notify rejection -> Credit application processed -> End                                                │
│ Start -> Credit application received -> Check Liability -> Check Risk -> Notify rejection -> Credit application processed -> End                                                │
├─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ Start -> Credit application received -> Check Liability -> Check Risk -> Check Monthly Income -> Assess application -> Make credit offer -> Credit application processed -> End │
│ Start -> Credit application received -> Check Liability -> Check Risk -> Check Monthly Income -> Assess application -> Make credit offer -> Credit application processed -> End │
╘═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╛


> Knock-out rule value ranges

╒══════════════════════╤═══════════════════════════════════════════════════════════════════════════════════════════════╕
│ Knockout Check       │ Observation                                                                                   │
╞══════════════════════╪═══════════════════════════════════════════════════════════════════════════════════════════════╡
│ Assess application   │ Rule:                                                                                         │
│                      │ [[External_Risk_Score=>0.65] V [External_Risk_Score=0.37-0.65]]                               │
│                      │                                                                                               │
│                      │ Value ranges of knocked-out cases:                                                            │
│                      │ - External Risk Score: 0.30 - 1.00                                                            │
├──────────────────────┼───────────────────────────────────────────────────────────────────────────────────────────────┤
│ Check Liability      │ Rule:                                                                                         │
│                      │ [[Owns_Vehicle=FALSE] V [Total_Debt=>6535.34] V [Total_Debt=5090.57-6535.34]]                 │
│                      │                                                                                               │
│                      │ Value ranges of knocked-out cases:                                                            │
│                      │ - Total Debt: 192.61 - 10719.54                                                               │
├──────────────────────┼───────────────────────────────────────────────────────────────────────────────────────────────┤
│ Check Risk           │ Rule:                                                                                         │
│                      │ [[Loan_Ammount=11725.48-16555.45] V [Loan_Ammount=>16555.45]]                                 │
│                      │                                                                                               │
│                      │ Value ranges of knocked-out cases:                                                            │
│                      │ - Loan Ammount: 10003.42 - 40181.17                                                           │
├──────────────────────┼───────────────────────────────────────────────────────────────────────────────────────────────┤
│ Check Monthly Income │ Rule:                                                                                         │
│                      │ [[Monthly_Income=533.66-810.76] V [Monthly_Income=<533.66] V [Monthly_Income=810.76-1014.82]] │
│                      │                                                                                               │
│                      │ Value ranges of knocked-out cases:                                                            │
│                      │ - Monthly Income: 3.52 - 998.69                                                               │
╘══════════════════════╧═══════════════════════════════════════════════════════════════════════════════════════════════╛

Knockouts Redesign Pipeline ended @ 2022-05-31 16:11:27.579707

Wall-clock execution time:  0:00:37.392354
